@model IEnumerable<ViaWines_Automatizacion.Models.Orden>

@{
    ViewData["Title"] = "Reporte";

}

<section class="content-header">
    <div class="">
        <h1>
            Reporte
        </h1>
    </div>
    <div class="row">
        <div class="col-xs-12 col-md-6">
            <select class="form-control select2" id="tipoReporte" onchange="filtroReporte()" style="width: 100%;">
                <option disabled selected value="null">Seleccione el tipo de reporte</option>
                <option value="1">Diario</option>
                <option value="2">Semanal</option>
                <option value="3">Mensual</option>
                <option value="4">Anual</option>
            </select>
        </div>


        <div class="col-xs-12 col-md-6">
            <div class="datepicker" id="filtroDiario" style="display: none" width="100%">
                <div class="input-group date ">
                    <div class="input-group-addon">
                        <i class="fa fa-calendar"></i>
                    </div>
                    <input type="text" class="form-control pull-right" id="datepicker" name="fecha" onload="obtenerFecha()" onchange="reporte()">
                </div>
            </div>


            <div class="row" id="filtroSemanal" style="display: none; width:100%" >
                <div class="col-xs-12 col-md-4">
                    <select class="form-control select2" id="anio1" style="width:100%" onchange="habilitarSelectMes()">
                        <option disabled selected value="null">Seleccione el año</option>
                    </select>
                </div>
                <div class="col-xs-12 col-md-4">
                    <select class="form-control select2" id="mes1" style="width:100%" onchange="habilitarSelectSemana()">
                        <option disabled selected value="null">Seleccione el mes</option>
                    </select>
                </div>
                <div class="col-xs-12 col-md-4">
                    <select class="form-control select2" id="semana" style="width:100%" onchange="reporte()">
                        <option disabled selected value="null">Seleccione la semana</option>
                    </select>
                </div>
            </div>

            <div class="row" id="filtroMensual" style="display: none">
                <div class="col-xs-12 col-md-6">
                    <select class="form-control select2" id="anio2" style="width:100%" onchange="habilitarSelectMes()">
                        <option disabled selected value="null">Seleccione el año</option>
                    </select>
                </div>
                <div class="col-xs-12 col-md-6">
                    <select class="form-control select2" id="mes2" style="width:100%" onchange="reporte()">
                        <option disabled selected value="null">Seleccione el mes</option>
                    </select>
                </div>
            </div>

            <div id="filtroAnual" style="display: none">
                <select class="form-control select2" id="anio3" style="width:100%" onchange="reporte()">
                    <option disabled selected value="null">Seleccione el año</option>
                </select>
            </div>
        </div>
    </div>

</section>

<section class="content">

    <div class="box">
        <div class="box-body">
            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                <br />
                <dl class="dl-horizontal">
                    <dt>Total de incidentes</dt>
                    <dd id="Total">-</dd>
                    <dt>Tiempo total</dt>
                    <dd id="TiempoTotal">-</dd>
                    <dt>Tiempo prom. por incidencias</dt>
                    <dd id="TiempoPromedio">-</dd>
                </dl>
            </div>

            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                <br />
                <dl class="dl-horizontal">
                    <dt>N° de ordenes planificadas</dt>
                    <dd id="OrdenPlan">-</dd>
                    <dt>N° de ordenes finalizadas</dt>
                    <dd id="OrdenFinalizadas">-</dd>
                    <dt>N° de ordenes pospuestas</dt>
                    <dd id="OrdenPospuestas">-</dd>
                    <dt>N° de ordenes pausadas</dt>
                    <dd id="OrdenPausadas">-</dd>
                    <dt>N° de ordenes sin iniciar</dt>
                    <dd id="OrdenNoIni">-</dd>
                </dl>
            </div>
        </div>

    </div>

    <div class="row">
        <div class="col-xs-12">
            <div class="box">
                <!-- /.box-header -->
                <div class="box-body">
                    <table id="incidentesArea" class="table table-bordered display dt-responsive" cellspacing="0" width="100%">
                        <thead>
                            <tr>
                                <th>Área</th>
                                <th>Tiempo total (min)</th>
                                <th>Cantidad de incidentes</th>
                            </tr>
                        </thead>
                    </table>
                </div>
                <!-- /.box-body -->
            </div>
            <!-- /.box -->
        </div>
        <!-- /.col -->
    </div>
    <!-- /.row -->

    <figure class="highcharts-figure">
        <div id="container"></div>
    </figure>

    <div class="modal fade" id="modal-alerta">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-red">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title" id="title-alert"></h4>
                </div>
                <div class="modal-body">
                    <p id="body-alert"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn bg-black" data-dismiss="modal">Aceptar</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->


</section>

<!--   Datatables-->
<script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.10.20/datatables.min.js"></script>
<!-- extension responsive -->
<script src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script>
<script src="~/js/reporte.js"></script>



<script>
    $(document).ready(function () {
        ObtenerFechaIncidentes();
        obtenerAnios();
    });
</script>

<!--script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script-->
<!--   Datatables-->
<script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.10.20/datatables.min.js"></script>
<!-- extension responsive -->
<script src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script>
<script src="https://unpkg.com/moment"></script>
<!--Gráfico-->
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/variable-pie.js"></script>

<style>
    .fechaIncidente a {
        background-color: #560f3d !important;
        color: #ffffff !important;
    }
</style>

<style>
    #chartdiv {
        width: 100%;
        height: 350px;
    }
</style>






<!--Fin gráfico-->
